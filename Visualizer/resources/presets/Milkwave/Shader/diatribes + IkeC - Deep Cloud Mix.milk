MILKDROP_PRESET_VERSION=201
PSVERSION=4
PSVERSION_WARP=4
PSVERSION_COMP=4
comp_1=// diatribes + IkeC - Deep Cloud Mix / https://www.shadertoy.com/view/wfScWt
comp_2=// Transpiled to HLSL using Milkwave
comp_3=
comp_4=#define tx sin(time)*0.5+1
comp_5=
comp_6=#define R(a) float2x2(cos(a+float4(0,33,11,0)))
comp_7=
comp_8=shader_body {
comp_9=  float4 o = 0;
comp_10=
comp_11=  // CONV: Center on screen, then try some aspect correction
comp_12=  uv = (uv*2) - 1;
comp_13=  uv *= aspect.xy;
comp_14=  // CONV: Adjust this to flip the output (±uv.x, ±uv.y)
comp_15=  uv = float2(uv.x, -uv.y);
comp_16=  float2 u = uv;
comp_17=
comp_18=  float i=0,a,d,s,t=time*.3;
comp_19=  float3 p = float3(uv.yx,1);
comp_20=
comp_21=  // u = (u-p.xy/2.)/p.y;
comp_22=
comp_23=  for(o*=i; i++<1e2;
comp_24=  d += s = .02 + abs(s)*.5,
comp_25=  o += 12.*float4(3,2,7,0)/s
comp_26=  +  6.*float4(19,2,1,0)/max(abs(u.y), .001))
comp_27=  for (p = float3(u * d, d + t),
comp_28=  p.x -= t,
comp_29=  p.z *= .7,
comp_30=  s = min(2. + p.y+cos(p.y+2.*t+p.x*.4)*.6, 2.-p.y),
comp_31=  a = .08; a < 2.; a *= 1.6)
comp_32=  p.xz= mul(p.xz,R(.1)),
comp_33=  s-=abs(dot(sin(2.*p/a+t),float3(.12,.12,.12)))*a;
comp_34=  u.x += .3;
comp_35=
comp_36=  #ifdef bass_smooth
comp_37=    float fac = (int)vis_version > 2 ? 2*vis_intensity+vis_shift : ((int)vis_version == 1 ? 3-2*smoothstep(0,2,bass_smooth) : 3-smoothstep(0,2,bass_att)) * vis_intensity + vis_shift;
comp_38=  #else
comp_39=    float fac = 4-smoothstep(0,2,bass_att);
comp_40=  #endif
comp_41=  
comp_42=  o = saturate(o / fac / (3e5 * length(u)));
comp_43=  
comp_44=  ret = o;
comp_45=}
